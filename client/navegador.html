<!doctype html>
<html ng-app="navegadorApp" >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Navegador</title>

    <link rel="stylesheet" href="js/lib/bootstrap-3.3.6-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="js/lib/bootstrap-3.3.6-dist/css/bootstrap-theme.min.css">

    <script src="js/lib/angular-1.5.0/angular.min.js"></script>
    <script src="js/lib/angular-1.5.0/angular-route.min.js"></script>

    <link rel="stylesheet" href="css/main.css">
	   <script src="js/main.js"></script>
    <script src="navegador/navegador-controller.js"></script>
    <script src="services/meus-utilitarios.js"></script>
  </head>

  <body ng-controller="NavegadorController">
  	<div class='container'>
		<h1>Navegador</h1>

	  	<div id='mpme'>
		    <h2><input type="checkbox" ng-model="filtro.somenteMpme"/> Somente MPME</h2>
		    Melhores opções para Micro, Pequenas e Médias Empresas (faturamento até R$90 milhões)
	  	</div>

	  	<div id="setores">
	    	<h2><input type="checkbox" ng-model="filtro.filtrarSetores"/> filtrar Setores</h2>
	    	<div>
				<div>
				  <ul class="unstyled">
					<li ng-repeat="setor in setores">
					  <label class="radioButton">
						<input type="radio" name="setor" value="{{setor.nome}}" ng-model="filtro.setor">
						<span>{{setor.nome}}</span>
					  </label>
					</li>
				  </ul>
				</div>
				<br>
			</div>
	  	</div>

	  	<div id="finalidades">
		    <h2><input type="checkbox" ng-model="filtro.filtrarFinalidades"/> filtrar Finalidades</h2>
		    <div>
				<div>
				  <ul class="unstyled">
					<li ng-repeat="finalidade in finalidades">
					  <label class="radioButton">
						<input type="radio" name="finalidade" value="{{finalidade.nome}}" ng-model="filtro.finalidade">
						<span>{{finalidade.nome}}</span>
					  </label>
					</li>
				  </ul>
				</div>
				<br>
			</div>
	  	</div>

	  	<div id="resultados">
	  		<h2>Resultados</h2>
        <!--
			<div id='filtros'>
				<h3>Filtro</h3>
				<p>
					<div>Somente MPME? {{filtro.somenteMpme}}</div>
          <div>filtrar Setores: {{filtro.filtrarSetores}}</div>
					<div>Setor selecionado: {{filtro.setor}}</div>
          <div>filtrar Finalidades: {{filtro.filtrarFinalidades}}</div>
					<div>Finalidade selecionada: {{filtro.finalidade}}</div>
				</p>
			</div>
    -->
      <p>{{financiamentosFiltrados().length}} resultado(s)</p>
			<table class='table table-striped table-hover'>
				<thead>
					<tr>
						<th>Informações básicas</th>
						<th>Condições Financeiras</th>
						<th>Linha/ Programa</th>
						<th>MPME?</th>
						<th>Setores</th>
						<th>Finalidades</th>
					</tr>
				</thead>
				<tbody>

						<tr ng-repeat="financiamento in financiamentosFiltrados()">

            		<td>{{financiamento.infoBasicas}}</td>
  							<td>{{financiamento.condicoesFin}}</td>
  							<td>
                  <a href='financiamento.html?id={{financiamento.id}}'>
                    {{financiamento.linhasProg}}
                  </a>
                </td>
  							<td>{{financiamento.mpme}}</td>
  							<td><span ng-repeat="setor in financiamento.setores">{{setor}}, </span></td>
  							<td><span ng-repeat="finalidade in financiamento.finalidades">{{finalidade}}, </span></td>
            </tr>
				</tbody>
			</table>
	  	</div>
   	</div>
  </body>
</html>
